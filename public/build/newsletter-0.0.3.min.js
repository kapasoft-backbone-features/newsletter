/* Feature: newsletter(Ver: 0.0.3) */ 
(function(){var c=Handlebars.template;(Handlebars.templates=Handlebars.templates||{}).newsletter=c(function(b,c,a,d,e){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];a=this.merge(a,b.helpers);e=e||{};d=this.escapeExpression;b='\x3cdiv class\x3d"newsletter-form"  novalidate\x3d""\x3e\n            \x3cinput type\x3d"email" value\x3d"" name\x3d"email" class\x3d"email" placeholder\x3d"Your Email Address Here ..." required\x3e\n            \x3cbutton class\x3d"btn btn-primary" name\x3d"submitButton" type\x3d"submit"\x3e';
(a=a.buttontext)?a=a.call(c,{hash:{},data:e}):(a=c.buttontext,a="function"===typeof a?a.apply(c):a);return b+=d(a)+"\x3c/button\x3e\n\x3c/div\x3e"})})();
(function(c,b){var f=Backbone.Model.extend({defaults:{email:"",type:"newsletter"}}),a=Backbone.View.extend({render:function(a){Handlebars.registerHelper("buttontext",function(){return new Handlebars.SafeString(a.button)});this.$el.html(Handlebars.templates.newsletter());this.delegateEvents({"click .newsletter-form .btn-primary":"save"});return this},save:function(){this.setModelData();d.navigate("newsletter-subscribed",{trigger:!0});socket.send(JSON.stringify(d.contentView.model.attributes))},setModelData:function(){this.model.set({email:this.$el.find('.newsletter-form input[name\x3d"email"]').val(),
website:window.location.hostname,id:null,type:"postNewsletter"})}}),d=new (Backbone.Router.extend({routes:{"":"newsletter_form","newsletter-subscribed":"post_newsletter_form"},initialize:function(){this.contentView=new a({model:new f})},newsletter_form:function(){c("#app-newsletter").html(this.contentView.render(this.clientConfig).el)},post_newsletter_form:function(){c("#app-newsletter").html('\x3cdiv class\x3d"alert alert-success"\x3e'+this.clientConfig.message+"\x3c/div\x3e")}}));b=b||{};void 0==
b.message&&(b.message="Thank You for subscribing to our Newsletter");void 0==b.button&&(b.button="Subscribe");d.clientConfig=b;c(function(){Backbone.history.start()})})(jQuery,NEWSLETTER);